<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.19" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>Docker | AKHQ</title><meta name="description" content="Get all the insight of your Apache Kafka clusters, see topics, browse data inside topics, see consumer groups and their lag, manage your schema registry, see and manage your Kafka Connect cluster status, and more...">
    <link rel="preload" href="/assets/style-BLi5FY0A.css" as="style"><link rel="stylesheet" href="/assets/style-BLi5FY0A.css">
    <link rel="modulepreload" href="/assets/app-DR_w82Kd.js"><link rel="modulepreload" href="/assets/docker.html-B5Y6OS92.js">
    <link rel="prefetch" href="/assets/index.html-PJcTy_ir.js" as="script"><link rel="prefetch" href="/assets/index.html-D5-Aw6jJ.js" as="script"><link rel="prefetch" href="/assets/api.html-CQhb0bvK.js" as="script"><link rel="prefetch" href="/assets/debug.html-B2N67Ew0.js" as="script"><link rel="prefetch" href="/assets/dev.html-w4yq2xhE.js" as="script"><link rel="prefetch" href="/assets/installation.html-C5tpr0sp.js" as="script"><link rel="prefetch" href="/assets/index.html-CEXgiC4Q.js" as="script"><link rel="prefetch" href="/assets/akhq.html-CtH9EX0J.js" as="script"><link rel="prefetch" href="/assets/audit.html-DhpSaLgf.js" as="script"><link rel="prefetch" href="/assets/avro.html-CufUUp1k.js" as="script"><link rel="prefetch" href="/assets/brokers.html-x3iAbYUS.js" as="script"><link rel="prefetch" href="/assets/helm.html-CejWTWnf.js" as="script"><link rel="prefetch" href="/assets/others.html-BzeJVJuk.js" as="script"><link rel="prefetch" href="/assets/protobuf.html-DmFkkAAf.js" as="script"><link rel="prefetch" href="/assets/index.html-C00tXvhY.js" as="script"><link rel="prefetch" href="/assets/aws-iam-auth.html-DUBTfTS8.js" as="script"><link rel="prefetch" href="/assets/basic-auth.html-C7sg4Xwu.js" as="script"><link rel="prefetch" href="/assets/external.html-DREUSm0T.js" as="script"><link rel="prefetch" href="/assets/github.html-6Y-mlI2q.js" as="script"><link rel="prefetch" href="/assets/groups.html-DTPYWhqx.js" as="script"><link rel="prefetch" href="/assets/header.html-cn6tpKWv.js" as="script"><link rel="prefetch" href="/assets/jwt.html-C3SmLeCp.js" as="script"><link rel="prefetch" href="/assets/ldap.html-C4vHy23Q.js" as="script"><link rel="prefetch" href="/assets/oidc.html-CQuDmJPC.js" as="script"><link rel="prefetch" href="/assets/index.html-BqFujjlk.js" as="script"><link rel="prefetch" href="/assets/glue.html-DGdmBaLi.js" as="script"><link rel="prefetch" href="/assets/schema-references.html-wXvdbbrk.js" as="script"><link rel="prefetch" href="/assets/tibco.html-BMzmXxOV.js" as="script"><link rel="prefetch" href="/assets/404.html-C-esIVHX.js" as="script"><link rel="prefetch" href="/assets/Index-BNDyj6gh.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-Y2T2ckNe.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="vp-site-logo" src="/assets/images/logo/akhqio_logo_yellow_white.svg" alt="AKHQ"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">AKHQ</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/docs/" aria-label="Documentation"><!--[--><!--[--><!--]--><!--]-->Documentation<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/tchiotludo/akhq" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><!----><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/docs/" aria-label="Documentation"><!--[--><!--[--><!--]--><!--]-->Documentation<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/tchiotludo/akhq" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item vp-sidebar-heading" href="/docs/" aria-label="Quick preview"><!--[--><!--[--><!--]--><!--]-->Quick preview<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/docs/installation.html" aria-label="Installation"><!--[--><!--[--><!--]--><!--]-->Installation<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item vp-sidebar-heading active" href="/docs/configuration/" aria-label="Configurations"><!--[--><!--[--><!--]--><!--]-->Configurations<!--[--><!--[--><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/docs/configuration/brokers.html" aria-label="Cluster configuration"><!--[--><!--[--><!--]--><!--]-->Cluster configuration<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><p tabindex="0" class="vp-sidebar-item">Schema Registry <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/docs/configuration/schema-registry/tibco.html" aria-label="TIBCO schema registry"><!--[--><!--[--><!--]--><!--]-->TIBCO schema registry<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/docs/configuration/schema-registry/glue.html" aria-label="Glue schema registry"><!--[--><!--[--><!--]--><!--]-->Glue schema registry<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/docs/configuration/schema-registry/schema-references.html" aria-label="Schema references"><!--[--><!--[--><!--]--><!--]-->Schema references<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="/docs/configuration/authentifications/" aria-label="Authentifications"><!--[--><!--[--><!--]--><!--]-->Authentifications<!--[--><!--[--><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/docs/configuration/authentifications/groups.html" aria-label="Groups"><!--[--><!--[--><!--]--><!--]-->Groups<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/docs/configuration/authentifications/jwt.html" aria-label="JWT"><!--[--><!--[--><!--]--><!--]-->JWT<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/docs/configuration/authentifications/basic-auth.html" aria-label="Basic Auth"><!--[--><!--[--><!--]--><!--]-->Basic Auth<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/docs/configuration/authentifications/aws-iam-auth.html" aria-label="AWS MSK IAM Auth"><!--[--><!--[--><!--]--><!--]-->AWS MSK IAM Auth<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/docs/configuration/authentifications/oidc.html" aria-label="OIDC"><!--[--><!--[--><!--]--><!--]-->OIDC<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/docs/configuration/authentifications/github.html" aria-label="GitHub SSO / OAuth2"><!--[--><!--[--><!--]--><!--]-->GitHub SSO / OAuth2<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/docs/configuration/authentifications/ldap.html" aria-label="LDAP"><!--[--><!--[--><!--]--><!--]-->LDAP<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/docs/configuration/authentifications/header.html" aria-label="Header configuration (reverse proxy)"><!--[--><!--[--><!--]--><!--]-->Header configuration (reverse proxy)<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/docs/configuration/authentifications/external.html" aria-label="External roles and attributes mapping"><!--[--><!--[--><!--]--><!--]-->External roles and attributes mapping<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/docs/configuration/docker.html" aria-label="Docker"><!--[--><!--[--><!--]--><!--]-->Docker<!--[--><!--[--><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="#pass-custom-java-opts" aria-label="Pass custom Java opts"><!--[--><!--[--><!--]--><!--]-->Pass custom Java opts<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#run-with-another-jvm-options-file" aria-label="Run with another jvm.options file"><!--[--><!--[--><!--]--><!--]-->Run with another jvm.options file<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#how-to-mount-configuration-file" aria-label="How to mount configuration file"><!--[--><!--[--><!--]--><!--]-->How to mount configuration file<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="/docs/configuration/helm.html" aria-label="Helm"><!--[--><!--[--><!--]--><!--]-->Helm<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/docs/configuration/akhq.html" aria-label="AKHQ configuration"><!--[--><!--[--><!--]--><!--]-->AKHQ configuration<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/docs/configuration/avro.html" aria-label="Avro deserialization"><!--[--><!--[--><!--]--><!--]-->Avro deserialization<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/docs/configuration/protobuf.html" aria-label="Protobuf deserialization"><!--[--><!--[--><!--]--><!--]-->Protobuf deserialization<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/docs/configuration/others.html" aria-label="Others"><!--[--><!--[--><!--]--><!--]-->Others<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/docs/debug.html" aria-label="Debug &amp; Monitoring"><!--[--><!--[--><!--]--><!--]-->Debug &amp; Monitoring<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/docs/api.html" aria-label="Api"><!--[--><!--[--><!--]--><!--]-->Api<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/docs/dev.html" aria-label="Development Environment"><!--[--><!--[--><!--]--><!--]-->Development Environment<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h1 id="docker" tabindex="-1"><a class="header-anchor" href="#docker"><span>Docker</span></a></h1><h2 id="pass-custom-java-opts" tabindex="-1"><a class="header-anchor" href="#pass-custom-java-opts"><span>Pass custom Java opts</span></a></h2><p>By default, the docker container will allow a custom JVM options setting the environments vars <code>JAVA_OPTS</code>. For example, if you want to change the default timezone, just add <code>-e &quot;JAVA_OPTS=-Duser.timezone=Europe/Paris&quot;</code></p><h2 id="run-with-another-jvm-options-file" tabindex="-1"><a class="header-anchor" href="#run-with-another-jvm-options-file"><span>Run with another jvm.options file</span></a></h2><p>By default, the docker container will run with a <a href="https://github.com/tchiotludo/akhq/blob/dev/docker/app/jvm.options" target="_blank" rel="noopener noreferrer">jvm.options</a> file, you can override it with your own with an Environment Variable. With the <code>JVM_OPTS_FILE</code> environment variable, you can override the jvm.options file by passing the path of your file instead.</p><p>Override the <code>JVM_OPTS_FILE</code> with docker run:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">--env</span> <span class="token assign-left variable">JVM_OPTS_FILE</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>path-of-your-jvm.options-file<span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="line">    <span class="token parameter variable">-p</span> <span class="token number">8080</span>:8080 <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">-v</span> /tmp/application.yml:/app/application.yml <span class="token punctuation">\</span></span>
<span class="line">    tchiotludo/akhq</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Override the <code>JVM_OPTS_FILE</code> with docker-compose:</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&#39;3.7&#39;</span></span>
<span class="line"><span class="token key atrule">services</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">akhq</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">image</span><span class="token punctuation">:</span> tchiotludo/akhq<span class="token punctuation">-</span>jvm<span class="token punctuation">:</span>dev</span>
<span class="line">    <span class="token key atrule">environment</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token key atrule">JVM_OPTS_FILE</span><span class="token punctuation">:</span> /app/jvm.options</span>
<span class="line">    <span class="token key atrule">ports</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token punctuation">-</span> <span class="token string">&quot;8080:8080&quot;</span></span>
<span class="line">    <span class="token key atrule">volumes</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token punctuation">-</span> /tmp/application.yml<span class="token punctuation">:</span>/app/application.yml</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you do not override the <code>JVM_OPTS_FILE</code>, the docker container will take the defaults one instead.</p><p>The AKHQ docker image supports 4 environment variables to handle configuration :</p><ul><li><code>AKHQ_CONFIGURATION</code>: a string that contains the full configuration in yml that will be written on /app/configuration.yml on the container.</li><li><code>MICRONAUT_APPLICATION_JSON</code>: a string that contains the full configuration in JSON format</li><li><code>MICRONAUT_CONFIG_FILES</code>: a path to a configuration file in the container. Default path is <code>/app/application.yml</code></li><li><code>CLASSPATH</code>: additional Java classpath entries. Must be used to specify the location of the TIBCO Avro client library jar if a &#39;tibco&#39; schema registry type is used</li></ul><h2 id="how-to-mount-configuration-file" tabindex="-1"><a class="header-anchor" href="#how-to-mount-configuration-file"><span>How to mount configuration file</span></a></h2><p>Take care when you mount configuration files to not remove akhq files located on /app. You need to explicitly mount the <code>/app/application.yml</code> and not mount the <code>/app</code> directory. This will remove the AKHQ binaries and give you this error: <code> /usr/local/bin/docker-entrypoint.sh: 9: exec: ./akhq: not found</code></p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">volumeMounts</span><span class="token punctuation">:</span></span>
<span class="line"><span class="token punctuation">-</span> <span class="token key atrule">mountPath</span><span class="token punctuation">:</span> /app/application.yml</span>
<span class="line">  <span class="token key atrule">subPath</span><span class="token punctuation">:</span> application.yml</span>
<span class="line">  <span class="token key atrule">name</span><span class="token punctuation">:</span> config</span>
<span class="line">  <span class="token key atrule">readOnly</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/tchiotludo/akhq/edit/dev/docs/docs/configuration/docker.md" aria-label="Edit this page" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]--><!--]-->Edit this page<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: tchiot.ludo@gmail.com">Ludovic DEHON</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/docs/configuration/authentifications/" aria-label="Authentifications"><!--[--><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>Authentifications</span></div><!--]--></a><a class="route-link auto-link next" href="/docs/configuration/helm.html" aria-label="Helm"><!--[--><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span>Helm</span></div><!--]--></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-DR_w82Kd.js" defer></script>
  </body>
</html>
