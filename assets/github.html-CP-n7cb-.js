import{_ as s,c as a,b as e,o as t}from"./app-DeIeHzo-.js";const l={};function i(p,n){return t(),a("div",null,n[0]||(n[0]=[e(`<h1 id="github-sso-oauth2" tabindex="-1"><a class="header-anchor" href="#github-sso-oauth2"><span>GitHub SSO / OAuth2</span></a></h1><p>To enable GitHub SSO in the application, you&#39;ll first have to enable OAuth2 in micronaut:</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">micronaut</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">security</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>
<span class="line">    <span class="token key atrule">oauth2</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>
<span class="line">      <span class="token key atrule">clients</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token key atrule">github</span><span class="token punctuation">:</span></span>
<span class="line">          <span class="token key atrule">client-id</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;client-id&gt;&quot;</span></span>
<span class="line">          <span class="token key atrule">client-secret</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;client-secret&gt;&quot;</span></span>
<span class="line">          <span class="token key atrule">scopes</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token punctuation">-</span> user<span class="token punctuation">:</span>email</span>
<span class="line">            <span class="token punctuation">-</span> read<span class="token punctuation">:</span>user</span>
<span class="line">          <span class="token key atrule">authorization</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token key atrule">url</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//github.com/login/oauth/authorize</span>
<span class="line">          <span class="token key atrule">token</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token key atrule">url</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//github.com/login/oauth/access_token</span>
<span class="line">            <span class="token key atrule">auth-method</span><span class="token punctuation">:</span> client<span class="token punctuation">-</span>secret<span class="token punctuation">-</span>post</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can also override the GitHub API url if needed. Default value is https://api.github.com</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">github.api.url</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//override.api.github.com</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>To further tell AKHQ to display GitHub SSO options on the login page and customize claim mapping, configure Oauth in the AKHQ config:</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">akhq</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">security</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">default-group</span><span class="token punctuation">:</span> no<span class="token punctuation">-</span>roles</span>
<span class="line">    <span class="token key atrule">oauth2</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>
<span class="line">      <span class="token key atrule">providers</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token key atrule">github</span><span class="token punctuation">:</span></span>
<span class="line">          <span class="token key atrule">label</span><span class="token punctuation">:</span> <span class="token string">&quot;Login with GitHub&quot;</span></span>
<span class="line">          <span class="token key atrule">username-field</span><span class="token punctuation">:</span> login</span>
<span class="line">          <span class="token key atrule">users</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token punctuation">-</span> <span class="token key atrule">username</span><span class="token punctuation">:</span> franz</span>
<span class="line">              <span class="token key atrule">groups</span><span class="token punctuation">:</span></span>
<span class="line">                <span class="token comment"># the corresponding akhq groups (eg. topic-reader/writer or akhq default groups like admin/reader/no-role)</span></span>
<span class="line">                <span class="token punctuation">-</span> topic<span class="token punctuation">-</span>reader</span>
<span class="line">                <span class="token punctuation">-</span> topic<span class="token punctuation">-</span>writer</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The username field can be any string field, the roles field has to be a JSON array.</p><h2 id="references" tabindex="-1"><a class="header-anchor" href="#references"><span>References</span></a></h2><p><a href="https://micronaut-projects.github.io/micronaut-security/latest/guide/#oauth2-configuration" target="_blank" rel="noopener noreferrer">https://micronaut-projects.github.io/micronaut-security/latest/guide/#oauth2-configuration</a></p>`,10)]))}const o=s(l,[["render",i],["__file","github.html.vue"]]),u=JSON.parse('{"path":"/docs/configuration/authentifications/github.html","title":"GitHub SSO / OAuth2","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"References","slug":"references","link":"#references","children":[]}],"git":{"updatedTime":1738587012000,"contributors":[{"name":"dependabot[bot]","username":"dependabot[bot]","email":"49699333+dependabot[bot]@users.noreply.github.com","commits":1,"url":"https://github.com/dependabot[bot]"}]},"filePathRelative":"docs/configuration/authentifications/github.md"}');export{o as comp,u as data};
