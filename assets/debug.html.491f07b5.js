import{_ as t,r as o,o as i,c as r,b as n,d as e,a as s,e as l}from"./app.55bccc6d.js";const c={},d=n("h1",{id:"debug-monitoring",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#debug-monitoring","aria-hidden":"true"},"#"),e(" Debug & Monitoring")],-1),p=n("h2",{id:"monitoring-endpoint",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#monitoring-endpoint","aria-hidden":"true"},"#"),e(" Monitoring endpoint")],-1),u=n("p",null,[e("Several monitoring endpoint is enabled by default and available on port "),n("code",null,"28081"),e(" only.")],-1),h=n("p",null,"You can disable it, change the port or restrict access only for authenticated users following micronaut configuration below.",-1),g=n("code",null,"/info",-1),m={href:"https://docs.micronaut.io/snapshot/guide/index.html#infoEndpoint",target:"_blank",rel:"noopener noreferrer"},b=n("code",null,"/health",-1),v={href:"https://docs.micronaut.io/snapshot/guide/index.html#healthEndpoint",target:"_blank",rel:"noopener noreferrer"},_=n("code",null,"/loggers",-1),f={href:"https://docs.micronaut.io/snapshot/guide/index.html#loggersEndpoint",target:"_blank",rel:"noopener noreferrer"},k=n("code",null,"/metrics",-1),q={href:"https://docs.micronaut.io/snapshot/guide/index.html#metricsEndpoint",target:"_blank",rel:"noopener noreferrer"},x=n("code",null,"/prometheus",-1),E={href:"https://micronaut-projects.github.io/micronaut-micrometer/latest/guide/",target:"_blank",rel:"noopener noreferrer"},T=l(`<h2 id="debugging-akhq-performance-issues" tabindex="-1"><a class="header-anchor" href="#debugging-akhq-performance-issues" aria-hidden="true">#</a> Debugging AKHQ performance issues</h2><p>You can debug all query duration from AKHQ with this commands</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-X</span> POST <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\\</span>
       <span class="token parameter variable">-d</span> <span class="token string">&#39;{ &quot;configuredLevel&quot;: &quot;TRACE&quot; }&#39;</span> <span class="token punctuation">\\</span>
       http://localhost:28081/loggers/org.akhq
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="debugging-authentication" tabindex="-1"><a class="header-anchor" href="#debugging-authentication" aria-hidden="true">#</a> Debugging authentication</h2><p>Debugging auth can be done by increasing log level on Micronaut that handle most of the authentication part :</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-X</span> POST <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\\</span>
       <span class="token parameter variable">-d</span> <span class="token string">&#39;{ &quot;configuredLevel&quot;: &quot;TRACE&quot; }&#39;</span> <span class="token punctuation">\\</span>
       http://localhost:28081/loggers/io.micronaut.security


<span class="token function">curl</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-X</span> POST <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\\</span>
       <span class="token parameter variable">-d</span> <span class="token string">&#39;{ &quot;configuredLevel&quot;: &quot;TRACE&quot; }&#39;</span> <span class="token punctuation">\\</span>
       http://localhost:28081/loggers/org.akhq.configs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6);function y(C,H){const a=o("ExternalLinkIcon");return i(),r("div",null,[d,p,u,h,n("ul",null,[n("li",null,[g,e(),n("a",m,[e("Info Endpoint"),s(a)]),e(" with git status information.")]),n("li",null,[b,e(),n("a",v,[e("Health Endpoint"),s(a)])]),n("li",null,[_,e(),n("a",f,[e("Loggers Endpoint"),s(a)])]),n("li",null,[k,e(),n("a",q,[e("Metrics Endpoint"),s(a)])]),n("li",null,[x,e(),n("a",E,[e("Prometheus Endpoint"),s(a)])])]),T])}const A=t(c,[["render",y],["__file","debug.html.vue"]]);export{A as default};
